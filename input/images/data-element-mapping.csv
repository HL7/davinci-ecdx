No,Data Element,X12 277RFAI-v6020,X12n 278 Response-v5010,X12n 275-v6020,CDex $submit-attachment Parameter,CDex Request Attachment Task Profile Element,Submit Attachments Comments,Request Attachments Comments,PAS Response Bundle Mapping to $submit-attachment Description,FHIRPath mapping to $submit-attachment,PAS Response Bundle Mapping to $submit-attachment Comments,PAS Task Profile Element,FHIRPath for mapping from PAS Claim Response Bundle to PAS Task,PAS Response Bundle Mapping  to PAS Task Comments
1,Tracking ID,"Loop: 2200D Segment: TRN02 Notes: TRN01 = ""1""",Loop: 2000E - Patient Event Level or Loop: 2000F Service Level Segment: TRN02 Notes: TRN01 = “1”: Payer Supplied TRN01 = “2” : Provider Supplied (echoed back),Loop: 2000A Segment: TRN02,TrackingId,Task.identifier,"For *unsolicited* attachments, this is the provider-assigned tracking/control number. For *solicited* attachments, this is the payer-assigned tracking/control number.",Payer-assigned tracking/control number,The ClaimResponse's first identifier element,Bundle.entry[0].resource.identifier[0],"Maps to the ""Patient Event Trace Number"" in X12 278R",Task.identifier,Bundle.entry[0].resource.identifier[0],"Maps to the ""Patient Event Trace Number"" in X12 278R"
2,Administrative Reference Number,-,"Loop: 2000E - Patient Event Level or Loop: 2000F Service Level:REF02 where REF01 == ""NT""",-,AdminRefNumber,Task.identifier,This payer assigned identifier is only for  prior authorization solicited attachments.,Payer-assigned administrative reference number,"The ClaimResponse item element ""AdministrationReferenceNumber"" extension",TODO,,Task.identifier,TODO,?
3,Use,Claim,Prior Auth,Claim,AttachTo,Task.reasonCode,"Choice of ""claim"" or ""preauthorization""","Choice of ""claim"" or ""preauthorization""","Fixed to ""preauthorization""","Fixed to ""preauthorization""","Fixed to ""preauthorization""","Task.reasonCode ( Fixed to ""priorAuthorization"")","Fixed to ""priorAuthorization""","Fixed to ""priorAuthorization"""
4,Payer ID,"Loop: 2100A Segment: NM109 Notes: NM108 = ""PI""","Loop: 2010A Segment: NM109 Notes: NM108 = ""PI""",Loop: 1000A Segment: NM109,PayerId,Task.requester.identifier,Payer ID,Payer ID,The first identifier element of the Organization referenced by the ClaimResponse's insurer element.,Bundle.entry.where(fullUrl = %context.entry[0].resource.insurer.reference or (resource.resourceType = 'Organization' and resource.id =%context.entry[0].resource.insurer.reference.split('/').last())).resource.identifier[0],"FHIRPath for absolute and relative references. Using the FHIRPath function. ""resolve()"" which is not universally supported and untested: ""Bundle.entry[0].resource.insurer.resolve().resource.identifier[0]",Task.requester.identifier,Bundle.entry.where(fullUrl = %context.entry[0].resource.insurer.reference or (resource.resourceType = 'Organization' and resource.id =%context.entry[0].resource.insurer.reference.split('/').last())).resource.identifier[0],"FHIRPath for absolute and relative references. Using the FHIRPath function. ""resolve()"" which is not universally supported and untested: ""Bundle.entry[0].resource.insurer.resolve().resource.identifier[0]"
5,Payer URL,"Loop: 2100A Segment: PER04 Notes: PER03 = ""UR""","Loop: 2010A Segment: PER08 Notes: PER07 = ""UR""",-,(operation endpoint),"""PayerUrl"" Task.input",See the [Endpoint Discovery Strategy](https://hl7.org/fhir/us/davinci-hrex/endpoint-discovery.html) documented in the  Da Vinci Health Record Exchange (HRex) Impelementation guide,Payer endpoint where the attachments are submitted using the $submit-attachment operation,NA,NA,See the [Endpoint Discovery Strategy](https://hl7.org/fhir/us/davinci-hrex/endpoint-discovery.html) documented in the  Da Vinci Health Record Exchange (HRex) Impelementation guide,"""PayerUrl"" Task.input (Task.input.where(''payer-url' in  type,codining.code)).valueUrl",NA,See the [Endpoint Discovery Strategy](https://hl7.org/fhir/us/davinci-hrex/endpoint-discovery.html) documented in the  Da Vinci Health Record Exchange (HRex) Impelementation guide
6,Organization ID,Loop: 2100B Segment: NM109 Notes: NM108 = id code qualifier,"Loop: 2010B Segment: NM109 Notes: NM101 = id code qualifier, NM102 = ""2""","Loop: 1000B Segment: NM109 Notes: NM108=""46""",OrganizationId,PractitionerRole.practitioner.identifier,Organization of provider who submitted claim/prior authorization,Organization of provider who submitted claim/prior authorization,"If present, the first identifier element of the Organization referenced by the ClaimResponse's requester element or the first identifier element of the Organization referenced by the organization element of the PractitiionerRole referenced by the ClaimResponse's requester element.",Bundle.entry.where(resource.resourceType = 'Organization' and (fullUrl = %context.entry[0].resource.requester.reference or resource.id =%context.entry[0].resource.requester.reference.split('/').last() or (fullUrl = (%context.entry.where(resource.resourceType = 'PractitionerRole' and (fullUrl = %context.entry[0].resource.requester.reference or resource.id = %context.entry[0].resource.requester.reference.split('/').last())).resource.organization.reference) or resource.id = (%context.entry.where(resource.resourceType = 'PractitionerRole' and (fullUrl = %context.entry[0].resource.requester.reference or resource.id = %context.entry[0].resource.requester.reference.split('/').last())).resource.organization.reference).split('/').last()))).resource.identifier[0],"""The ClaimResponse's requester element has a choice of Organization and PractitionerRole target types. FHIRPath for absolute and relative references.  Using the FHIRPath function. ""resolve()"" which in not universally supported and untested: ""Bundle.entry.where(resource.resourceType = 'Organization' and (fulllUrl = %context.entry[0].resource.requester.reference or fulllUrl = %context.entry[0].resource.requester.resolve().organization.reference or resource.id = %context.entry[0].resource.requester.reference.split('/').last() or resource.id = %context.entry[0].resource.requester.resolve().organization.reference.split('/').last())).resource.identifier[0]""",Task.owner.PractitionerRole.resolves().organization.identifier|Task.owner.organization.identifier,Bundle.entry.where(resource.resourceType = 'Organization' and (fullUrl = %context.entry[0].resource.requester.reference or resource.id =%context.entry[0].resource.requester.reference.split('/').last() or (fullUrl = (%context.entry.where(resource.resourceType = 'PractitionerRole' and (fullUrl = %context.entry[0].resource.requester.reference or resource.id = %context.entry[0].resource.requester.reference.split('/').last())).resource.organization.reference) or resource.id = (%context.entry.where(resource.resourceType = 'PractitionerRole' and (fullUrl = %context.entry[0].resource.requester.reference or resource.id = %context.entry[0].resource.requester.reference.split('/').last())).resource.organization.reference).split('/').last()))).resource.identifier[0],"""The ClaimResponse's requester element has a choice of Organization and PractitionerRole target types. FHIRPath for absolute and relative references.  Using the FHIRPath function. ""resolve()"" which in not universally supported and untested: ""Bundle.entry.where(resource.resourceType = 'Organization' and (fulllUrl = %context.entry[0].resource.requester.reference or fulllUrl = %context.entry[0].resource.requester.resolve().organization.reference or resource.id = %context.entry[0].resource.requester.reference.split('/').last() or resource.id = %context.entry[0].resource.requester.resolve().organization.reference.split('/').last())).resource.identifier[0]"""
7,Provider ID,Loop: 2100C Segment: NM109 Notes: NM108 = id code qualifier,"Loop: 2010EA Segment: NM109 Notes: NM101 = id code qualifier , NM102 = ""1""","Loop: 1000C Segment: NM109 Notes: NM108=""XX""",ProviderId,PractitionerRole.organization.identifier,Provider who submitted claim/prior authorization,Provider who submitted claim/prior authorization,The first identifier element of the Practitioner referenced by the practitioner element of the PractitionerRole referenced by the ClaimResponse's requester element.,Bundle.entry.where(resource.resourceType = 'Practitioner' and (fullUrl = (%context.entry.where(resource.resourceType = 'PractitionerRole' and (fullUrl = %context.entry[0].resource.requester.reference or resource.id = %context.entry[0].resource.requester.reference.split('/').last())).resource.practitioner.reference) or resource.id = (%context.entry.where(resource.resourceType = 'PractitionerRole' and (fullUrl = %context.entry[0].resource.requester.reference or resource.id = %context.entry[0].resource.requester.reference.split('/').last())).resource.practitioner.reference).split('/').last())).resource.identifier[0],"The ClaimResponse's requester element has a choice of Organization and PractitionerRole target types. FHIRPath for absolute and relative references.  Using the FHIRPath function. ""resolve()"" which in not universally supported and untested: ""Bundle.entry.where(fullUrl = %context.entry[0].resource.requester.resolve().practitioner.reference or (resource.resourceType = 'Practitioner' and resource.id = %context.entry[0].resource.requester.resolve().practitioner.reference.split('/').last()).resource.identifier[0]""",Task.owner.PractitionerRole.resolves().practitioner.identifier|Task.owner.practitioner.identifier,Bundle.entry.where(resource.resourceType = 'Practitioner' and (fullUrl = (%context.entry.where(resource.resourceType = 'PractitionerRole' and (fullUrl = %context.entry[0].resource.requester.reference or resource.id = %context.entry[0].resource.requester.reference.split('/').last())).resource.practitioner.reference) or resource.id = (%context.entry.where(resource.resourceType = 'PractitionerRole' and (fullUrl = %context.entry[0].resource.requester.reference or resource.id = %context.entry[0].resource.requester.reference.split('/').last())).resource.practitioner.reference).split('/').last())).resource.identifier[0],"The ClaimResponse's requester element has a choice of Organization and PractitionerRole target types. FHIRPath for absolute and relative references.  Using the FHIRPath function. ""resolve()"" which in not universally supported and untested: ""Bundle.entry.where(fullUrl = %context.entry[0].resource.requester.resolve().practitioner.reference or (resource.resourceType = 'Practitioner' and resource.id = %context.entry[0].resource.requester.resolve().practitioner.reference.split('/').last()).resource.identifier[0]"""
8,Claim/PreAuth ID,"Loop: 2200D Segment: REF02 Notes: REF01=""X1""","Loop: 2000F Segment: TRN02 Notes: TRN01 =""1"" or TRN01 =""2""","Loop: 1000D Segment: Ref02 Notes: Ref01=""X1"", provider assigned",-,Task.reasonReference.identifier,Provider-assigned claim/prior authorization ID,Provider-assigned claim/prior authorization ID,"The first  identifier element of the Claim referenced by the ClaimResponse's ""request"" element.",Bundle.entry.where(fullUrl = %context.entry[0].resource.request.reference or (resource.resourceType = 'Claim' and resource.id =%context.entry[0].resource.request.reference.split('/').last())).resource.identifier[0]," FHIRPath for absolute and relative references. Using the FHIRPath function. ""resolve()"" which is not universally supported and untested: ""Bundle.entry[0].resource.request.resolve().resource.identifier[0]""",Task.reasonReference. ( Task.reasonReference.resolves() to Claim resource),Bundle.entry.where(fullUrl = %context.entry[0].resource.request.reference or (resource.resourceType = 'Claim' and resource.id =%context.entry[0].resource.request.reference.split('/').last())).resource, This element may reference the local FHIR CLAIM resource that was submitted
9,Line Item(s),"Note that this is an indirect mapping:  Loop 2220D (Service Line Information) Segment SVC01 or SVC04 codes reference the claim service item, which contains the line item.",Loop: 2000F Segment: HL01,Loop: 2000A Segment: STC10 Notes: Used to convey status of the entire claim or a specific service line,Attachment.LineItem,“AttachmentsNeeded” Task.input.extension,Claim/prior authorization line item numbers,Claim/prior authorization line item numbers,"The CommunicationRequest payload element ""serviceLineNumber"" extension.",Bundle.entry.where(fullUrl = %context.entry[0].resource.communicationRequest.reference or (resource.resourceType = 'CommunicationRequest' and resource.id =%context.entry[0].resource.communicationRequest.reference.split('/').last())).resource.payload.extension.where(url='http://hl7.org/fhir/us/davinci-pas/StructureDefinition/extension-serviceLineNumber').valuePositiveInt,"The ClaimResponse's communicationRequest element references the CommunicationRequest resource in the PAS response Bundle.  Will need to iterate through the payload items FHIRPath for absolute and relative references. Using the FHIRPath function. ""resolve()"" which is not universally supported and untested: ""Bundle.entry[0].resource.communicationRequest.resolve().resource.payload.extension.where(url='http://hl7.org/fhir/us/davinci-pas/StructureDefinition/extension-serviceLineNumber').valuePositiveInt""","Task.input ""paLineNumber"" extension   (Task.input.extension.where(url = 'http://hl7.org/fhir/us/davinci-pas/StructureDefinition/extension-paLineNumber').valuePositiveInt)",Bundle.entry.where(fullUrl = %context.entry[0].resource.communicationRequest.reference or (resource.resourceType = 'CommunicationRequest' and resource.id =%context.entry[0].resource.communicationRequest.reference.split('/').last())).resource.payload.extension.where(url='http://hl7.org/fhir/us/davinci-pas/StructureDefinition/extension-serviceLineNumber').valuePositiveInt,"The ClaimResponse's communicationRequest element references the CommunicationRequest resource in the PAS response Bundle.  Will need to iterate through the payload items FHIRPath for absolute and relative references. Using the FHIRPath function. ""resolve()"" which is not universally supported and untested: ""Bundle.entry[0].resource.communicationRequest.resolve().resource.payload.extension.where(url='http://hl7.org/fhir/us/davinci-pas/StructureDefinition/extension-serviceLineNumber').valuePositiveInt"""
10,Attachment Code,"Loop: 2220D Segments: STC01-02, STC10-02, STC11-02",Loop: 2000E - Patient Event Level or Loop: 2000F Service Level Segment: HI (LOINC) or Segment: PWK01 Report Type Codes ,Loop: 2000A Segment: STC01-01,Attachment.Code,“AttachmentsNeeded” Task.input," LOINC Attachment Code.  For prior authorization, [X12] PWK01 Report Type Codes may also be used."," LOINC Attachment Code.  For prior authorization, [X12] PWK01 Report Type Codes may also be used.","The CommunicationRequest payload element  ""contentModifier"" extension.",Bundle.entry.where(fullUrl = %context.entry[0].resource.communicationRequest.reference or (resource.resourceType = 'CommunicationRequest' and resource.id =%context.entry[0].resource.communicationRequest.reference.split('/').last())).resource.payload.extension.where(url='http://hl7.org/fhir/us/davinci-pas/StructureDefinition/extension-contentModifier').valueCodeableConcept,"The ClaimResponse's communicationRequest element references the CommunicationRequest resource in the PAS response Bundle.  Will need to iterate through the payload items. FHIRPath for absolute and relative references. Using the FHIRPath function. ""resolve()"" which is not universally supported and untested: ""Bundle.entry[0].resource.communicationRequest.resolve().resource.payload.extension.where(url='http://hl7.org/fhir/us/davinci-pas/StructureDefinition/extension-contentModifier').valueCodeableConcept""",“AttachmentsNeeded” Task.input  (Task.input.where('attachments-needed' in  type.coding.code.valueCodeableConcept),Bundle.entry.where(fullUrl = %context.entry[0].resource.communicationRequest.reference or (resource.resourceType = 'CommunicationRequest' and resource.id =%context.entry[0].resource.communicationRequest.reference.split('/').last())).resource.payload.extension.where(url='http://hl7.org/fhir/us/davinci-pas/StructureDefinition/extension-contentModifier').valueCodeableConcept,"The ClaimResponse's communicationRequest element references the CommunicationRequest resource in the PAS response Bundle.  Will need to iterate through the payload items. FHIRPath for absolute and relative references. Using the FHIRPath function. ""resolve()"" which is not universally supported and untested: ""Bundle.entry[0].resource.communicationRequest.resolve().resource.payload.extension.where(url='http://hl7.org/fhir/us/davinci-pas/StructureDefinition/extension-contentModifier').valueCodeableConcept"""
11,Due Date,"Loop: 2200D Segment: DTP03 Notes: DTP01 = ""106"", DTP02 = ""D8""",-,-,-,Task.restriction.period,Deadline for submitting attachments to Payer,Deadline for submitting attachments to Payer,?,,?,Task.restriction.period,,?
12,Date of Service,"Loop: 2200D Segment: DTP03 Notes: DTP01 = ""172"", DTP02 = ""D8"" or DTP02 = ""RD8""","Loop: 2000E (event level) or 2000F (line level) Segment: DTP03 Notes: DTP01=""742"" DTP02 = date format code",Loop: 2100A Segment: DTP03,ServiceDate,“service-date” Task.input ,Date of service for claim/prior authorization,Date of service for claim/prior authorization,"The ClaimResponse ""preAuthPeriod"" element's  start date.",Bundle.entry[0].resource.preAuthPeriod.start,"Date of Service maps to the event level, not the service detail ( Item level) effective dates.",NA,Bundle.entry[0].resource.preAuthPeriod.start,"Date of Service maps to the event level, not the service detail ( Item level) effective dates."
13,Member ID,Loop: 2100C Segment: NM109 Notes: NM108 = id code qualifier,Loop: 2010C Segment: NM109 Notes: NM108 = id code qualifier,"Loop: 1000D Segment: NM109 Notes: NM108=""MI""",MemberId,Patient.identifier,Payer assigned patient identifier,Payer assigned patient identifier,"The member identifier element of the Patient referenced by the ClaimResponse's ""patient"" element.",Bundle.entry.where(fullUrl = %context.entry[0].resource.patient.reference or (resource.resourceType = 'Patient' and resource.id =%context.entry[0].resource.patient.reference.split('/').last())).resource.identifier.where('MB' in type.coding.code),"This identifier has a fixed type code of ""MB"". FHIRPath for absolute and relative references.  Using the FHIRPath function. ""resolve()"" which is not universally supported and untested: ""Bundle.entry[0].resource.patient.resolve().resource.identifier.where('MB' in type.coding.code)""",Task.for (Task.for.resolves() to Patient resource) ,Bundle.entry.where(fullUrl = %context.entry[0].resource.patient.reference or (resource.resourceType = 'Patient' and resource.id =%context.entry[0].resource.patient.reference.split('/').last())).resource,The element may contain a local reference to the Patient.
14,Patient Name,"Loop: 2100D Segments :NM103, NM104, NM105, NM107 Notes: NM102 = ""1""","Loop: 2010C Segments: NM103, NM104 Notes: NM101 = id code qualifier","Loop: 1000D Segments: NM103, NM104, NM105 Notes: NM102 = ""1""",#VALUE!,Patient.name,Patient demographic information for patient matching,Patient demographic information for patient matching,"The name element of the Patient referenced by the ClaimResponse's ""patient"" element.",Bundle.entry.where(fullUrl = %context.entry[0].resource.patient.reference or (resource.resourceType = 'Patient' and resource.id =%context.entry[0].resource.patient.reference.split('/').last())).resource.name,"FHIRPath for absolute and relative references.  Using the FHIRPath function. ""resolve()"" which is not universally supported and untested: ""Bundle.entry[0].resource.patient.resolve().resource.name""",Task.for (Task.for.resolves() to Patient resource) ,Bundle.entry.where(fullUrl = %context.entry[0].resource.patient.reference or (resource.resourceType = 'Patient' and resource.id =%context.entry[0].resource.patient.reference.split('/').last())).resource,The element may contain a local reference to the Patient.
15,Patient Account No.,Loop: 2220D Segments: REF02 Notes: REF01= id code qualifier,"Loop: 2010C Segment: REF02 Notes: REF01 = ""EJ""",-,-,Patient.identifier,Patient Account Number is a provider-assigned identifier,Patient Account Number is a provider-assigned identifier,?,,?,?,,?
16,Date of Birth,-,Loop: 2010C Segment: DMG02 Notes: DMG01 = date format code,-,-,Patient.birthDate,Patient demographic information for patient matching,Patient demographic information for patient matching,"The date of birth element of the Patient referenced by the ClaimResponse's ""patient"" element.",Bundle.entry.where(fullUrl = %context.entry[0].resource.patient.reference or (resource.resourceType = 'Patient' and resource.id =%context.entry[0].resource.patient.reference.split('/').last())).resource.birthDate,"FHIRPath for absolute and relative references. Using the FHIRPath function. ""resolve()"" which is not universally supported and untested: ""Bundle.entry[0].resource.patient.resolve().resource.birthDate""",Task.for (Task.for.resolves() to Patient resource) ,Bundle.entry.where(fullUrl = %context.entry[0].resource.patient.reference or (resource.resourceType = 'Patient' and resource.id =%context.entry[0].resource.patient.reference.split('/').last())).resource,The element may contain a local reference to the Patient.
17,Questionnaire,,,,,“QuestionnairesContext” Task.input,,,NA,,,“QuestionnaireContext” Task.input.value[x]  (Task.input.where('questiionnaire-context' in  type.coding.code).valueString),Bundle.entry.where(fullUrl = %context.entry[0].resource.communicationRequest.reference or (resource.resourceType = 'CommunicationRequest' and resource.id =%context.entry[0].resource.communicationRequest.reference.split('/').last())).resource.payload.extension.where(url='http://hl7.org/fhir/us/davinci-pas/StructureDefinition/extension-contentModifier').valueCodeableConcept,"The ClaimResponse's communicationRequest element references the CommunicationRequest resource in the PAS response Bundle.  Will need to iterate through the payload items. FHIRPath for absolute and relative references. Using the FHIRPath function. ""resolve()"" which is not universally supported and untested: ""Bundle.entry[0].resource.communicationRequest.resolve().resource.payload.extension.where(url='http://hl7.org/fhir/us/davinci-pas/StructureDefinition/extension-contentModifier').valueCodeableConcept"""
18,QuestionnaireResponse,,,,Attachment.Content,,,,NA,,The attachment payload is created and returned by the Provider,,,The attachment payload is created and returned by the Provider