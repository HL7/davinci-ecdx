<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="979.2615672808204" height="1714.560644357591"><desc>%23text%20for%20https%3A%2F%2Fsequencediagram.org%2F%0A%0Atitle%20Steps%20for%20DTR%20SMART%20App%20Launch%0A%0Aparticipant%20DTR%20App%0Aparticipant%20DTR%20Client%0Aactor%20User%0Aparticipant%20FHIR%20Server%0Aentryspacing%201.2%0Anote%20over%20DTR%20Client%3A%20HIT%20with%20Authorization%20Server%0A%0Aautonumber%0Aopt%20Precondition%3A%20Client%20Registration%0Aentryspacing%200.5%0ADTR%20App-%3EDTR%20Client%3A%20(may%20be%20out%20of%20band)%0Aend%20%0A%0Agroup%20EHR%20Launch%20%0A%0Anote%20over%20DTR%20Client%2CUser%3A%20CDex%20defined%20%60Task.code%60%20triggers%20launch%0AUser-%3EDTR%20Client%3A%20User%5Cnlaunches%20App%0ADTR%20Client-%3EDTR%20App%3A%20Launch%20request%0Aend%0A%20%0A%20%0ADTR%20App-%3EFHIR%20Server%3ADiscovery%20request%0Aautonumber%20off%0AFHIR%20Server--%3EDTR%20App%3A%20Discovery%20response%0Aautonumber%20%0ADTR%20App-%3EDTR%20Client%3A%20Authorization%20request*%0Anote%20over%20DTR%20App%3A%20*Required%20scopes%3A%20%22launch%22%2C%20%22launch%2Fpatient%22%2C%5Cn%22**launch%2Ftask**%22%2C%20%22patient%2F*.rs%22%2C%20%22**patient%2FTask.u%22%2C%5Cn%22patient%2FQuestionnaireResponse.cu**%22%0A%23opt%0A%23User-%3EDTR%20Client%3A%20User%20input%20%23incorporated%5Cninto%20authorization%20decision%0A%23end%0A%0Aalt%20DTR%20Granted%20Access%0ADTR%20Client--%3EDTR%20App%3AAuthorization%20granted%0ADTR%20App-%3EDTR%20Client%3AAccess%20token%20request%0ADTR%20Client--%3EDTR%20App%3A%20Access%20token%20response%5C*%5C*%0Anote%20over%20DTR%20Client%3A%20%5C*%5C*launch%20context%20in%20%22fhirContext%22%20array%5Cnincludes%20local%20reference%20to%20the%20Task%0Aref%20over%20DTR%20App%2C%20FHIR%20Server%3A%209%20Request%20Resources%20(see%20previous%20section)%0A%0Aelse%20DTR%20Denied%20Access%0Aautonumber%2010%0A%0ADTR%20Client--%3EDTR%20App%3AAuthorization%20error%0Aend</desc><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="979" height="1714"/></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 200.91673625113282 207.82662304759094 L 200.91673625113282 1714.560644357591" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 446.4876843081641 207.82662304759094 L 446.4876843081641 1714.560644357591" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 741.7728423808203 207.82662304759094 L 741.7728423808203 1714.560644357591" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 860.5172048308203 207.82662304759094 L 860.5172048308203 1714.560644357591" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="20.298181615384618,8.795878700000001"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 142.1429854942539 136.58000557759092 L 259.6904870080117 136.58000557759092 L 259.6904870080117 207.82662304759094 L 142.1429854942539 207.82662304759094 L 142.1429854942539 136.58000557759092 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="170.7735706627539" y="181.4389869475909" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">DTR App</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 382.0160117983555 136.58000557759092 L 510.9593568179727 136.58000557759092 L 510.9593568179727 207.82662304759094 L 382.0160117983555 207.82662304759094 L 382.0160117983555 136.58000557759092 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="410.6465969668555" y="181.4389869475909" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">DTR Client</text></g><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 756.8137949578203 96.20692234459095 A 15.040952577 15.040952577 0 1 1 756.8137874373447 96.19188139452076 M 741.7728423808203 111.24787492159095 L 741.7728423808203 143.44079096359096 M 722.7737443888203 122.85843480559095 L 760.7719403728203 122.85843480559095 M 741.7728423808203 143.44079096359096 L 722.7737443888203 173.52269611759095 M 741.7728423808203 143.44079096359096 L 760.7719403728203 173.52269611759095" stroke-miterlimit="10" stroke-width="4.485898137" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="726.2968291972265" y="199.91033221759093" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">User</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 791.1600724211094 136.58000557759092 L 929.8743372405313 136.58000557759092 L 929.8743372405313 207.82662304759094 L 791.1600724211094 207.82662304759094 L 791.1600724211094 136.58000557759092 Z" stroke-miterlimit="10" stroke-width="4.222021776" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="819.7906575896094" y="181.4389869475909" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">FHIR Server</text></g></g><g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="16pt" font-style="normal" font-weight="normal" text-decoration="normal" x="321.94300842285156" y="39.82134175090909" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Steps for DTR SMART App Launch</text></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 314.2193330625977 268.51818607759094 L 555.0071630637304 268.51818607759094 L 578.7560355537305 292.26705856759094 L 578.7560355537305 329.20974910759094 L 314.2193330625977 329.20974910759094 L 314.2193330625977 268.51818607759094 M 555.0071630637304 268.51818607759094 L 555.0071630637304 292.26705856759094 L 578.7560355537305 292.26705856759094" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="351.1620236025977" y="305.46087661759094" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">HIT with Authorization Server</text></g><g><rect fill="white" stroke="none" x="258.2193914027344" y="428.16338448259097" width="143.19183404289063" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="262.1775368177344" y="451.91225697259097" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">(may be out of band)</text><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="249.9513405286719" y="451.91225697259097" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">1 </text></g></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 200.91673625113282 462.46731141259096 L 424.7618639191641 462.46731141259096" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray=""/><g transform="translate(446.4876843081641,462.46731141259096) translate(-446.4876843081641,-462.46731141259096)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 424.4979875581641 451.47246303759096 L 446.4876843081641 462.46731141259096 L 424.4979875581641 473.46215978759096 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 422.7388118181641 553.504655957591 L 741.7728423808202 553.504655957591 L 765.5217148708202 577.2535284475911 L 765.5217148708202 614.196218987591 L 422.7388118181641 614.196218987591 L 422.7388118181641 553.504655957591 M 741.7728423808202 553.504655957591 L 741.7728423808202 577.2535284475911 L 765.5217148708202 577.2535284475911" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="459.68150235816404" y="590.4473464975911" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">CDex defined `Task.code` triggers launch</text></g><g><rect fill="white" stroke="none" x="551.8650500583984" y="633.986946062591" width="38.8683171971875" height="34.30392693"/><rect fill="white" stroke="none" x="551.8650500583984" y="660.374582162591" width="96.75662286125" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="555.8231954733984" y="657.735818552591" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">User</text><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="543.5969991843359" y="657.735818552591" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">2 </text></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="555.8231954733984" y="684.123454652591" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">launches App</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 741.7728423808203 694.678509092591 L 468.21350469716407 694.678509092591" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray=""/><g transform="translate(446.4876843081641,694.678509092591) translate(-446.4876843081641,-694.678509092591)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 468.4773810581641 683.683660717591 L 446.4876843081641 694.678509092591 L 468.4773810581641 705.6733574675909 Z"/></g></g><g><rect fill="white" stroke="none" x="275.32389884902346" y="714.469236167591" width="108.9828191503125" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="279.28204426402345" y="738.2181086575911" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Launch request</text><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="267.05584797496095" y="738.2181086575911" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">3 </text></g></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 446.4876843081641 748.773163097591 L 222.64255664013282 748.773163097591" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray=""/><g transform="translate(200.91673625113282,748.773163097591) translate(-200.91673625113282,-748.773163097591)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 222.90643300113283 737.7783147225911 L 200.91673625113282 748.773163097591 L 222.90643300113283 759.768011472591 Z"/></g></g><g><rect fill="white" stroke="none" x="474.2105386879882" y="788.354617247591" width="125.23905999503906" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="478.1686841029882" y="812.1034897375911" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Discovery request</text><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="465.9424878139257" y="812.1034897375911" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">4 </text></g></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 200.91673625113282 822.658544177591 L 838.7913844418204 822.658544177591" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray=""/><g transform="translate(860.5172048308203,822.658544177591) translate(-860.5172048308203,-822.658544177591)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 838.5275080808203 811.6636958025911 L 860.5172048308203 822.658544177591 L 838.5275080808203 833.653392552591 Z"/></g></g><g><rect fill="white" stroke="none" x="462.39236241845697" y="842.4492712525911" width="136.64921624503907" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="466.35050783345696" y="866.1981437425911" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Discovery response</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 860.5172048308203 876.7531981825911 L 222.64255664013282 876.7531981825911" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(200.91673625113282,876.7531981825911) translate(-200.91673625113282,-876.7531981825911)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 222.90643300113283 865.7583498075911 L 200.91673625113282 876.7531981825911 L 222.90643300113283 887.748046557591 Z"/></g></g><g><rect fill="white" stroke="none" x="253.734795150293" y="896.5439252575911" width="152.16102654777345" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="257.692940565293" y="920.2927977475912" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Authorization request*</text><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="245.4667442762305" y="920.2927977475912" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">5 </text></g></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 200.91673625113282 930.8478521875911 L 424.7618639191641 930.8478521875911" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray=""/><g transform="translate(446.4876843081641,930.8478521875911) translate(-446.4876843081641,-930.8478521875911)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 424.4979875581641 919.8530038125912 L 446.4876843081641 930.8478521875911 L 424.4979875581641 941.8427005625911 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 13.19381805 950.6385792625911 L 364.89078196226563 950.6385792625911 L 388.63965445226563 974.3874517525911 L 388.63965445226563 1064.105414492591 L 13.19381805 1064.105414492591 L 13.19381805 950.6385792625911 M 364.89078196226563 950.6385792625911 L 364.89078196226563 974.3874517525911 L 388.63965445226563 974.3874517525911" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="50.136508590000005" y="987.5812698025911" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">*Required scopes: "launch", "launch/patient",</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="50.136508590000005" y="1013.9689059025911" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">"</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="55.34051859976563" y="1013.9689059025911" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">launch/task</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="135.99907267691407" y="1013.9689059025911" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">", "patient/*.rs", "</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="243.1858707726172" y="1013.9689059025911" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">patient/Task.u",</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="50.136508590000005" y="1040.3565420025911" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">"patient/QuestionnaireResponse.cu</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="299.0270115196875" y="1040.3565420025911" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">"</text></g><g><rect fill="white" stroke="none" x="256.1757360072266" y="1135.3520319625911" width="147.27914483390626" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="260.1338814222266" y="1159.100904452591" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Authorization granted</text><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="247.90768513316408" y="1159.100904452591" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">6 </text></g></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 446.4876843081641 1169.6559588925911 L 222.64255664013282 1169.6559588925911" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(200.91673625113282,1169.6559588925911) translate(-200.91673625113282,-1169.6559588925911)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 222.90643300113283 1158.6611105175912 L 200.91673625113282 1169.6559588925911 L 222.90643300113283 1180.650807267591 Z"/></g></g><g><rect fill="white" stroke="none" x="255.77845817519534" y="1189.446685967591" width="148.07370049796876" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="259.73660359019533" y="1213.195558457591" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Access token request</text><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="247.51040730113283" y="1213.195558457591" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">7 </text></g></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 200.91673625113282 1223.750612897591 L 424.7618639191641 1223.750612897591" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray=""/><g transform="translate(446.4876843081641,1223.750612897591) translate(-446.4876843081641,-1223.750612897591)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 424.4979875581641 1212.755764522591 L 446.4876843081641 1223.750612897591 L 424.4979875581641 1234.745461272591 Z"/></g></g><g><rect fill="white" stroke="none" x="244.36830192519534" y="1243.541339972591" width="170.89401299796876" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="248.32644734019533" y="1267.290212462591" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Access token response**</text><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="236.10025105113283" y="1267.290212462591" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">8 </text></g></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 446.4876843081641 1277.845266902591 L 222.64255664013282 1277.845266902591" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(200.91673625113282,1277.845266902591) translate(-200.91673625113282,-1277.845266902591)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 222.90643300113283 1266.850418527591 L 200.91673625113282 1277.845266902591 L 222.90643300113283 1288.840115277591 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 287.4083284239258 1297.635993977591 L 581.8181677024023 1297.635993977591 L 605.5670401924024 1321.3848664675909 L 605.5670401924024 1384.715193107591 L 287.4083284239258 1384.715193107591 L 287.4083284239258 1297.635993977591 M 581.8181677024023 1297.635993977591 L 581.8181677024023 1321.3848664675909 L 605.5670401924024 1321.3848664675909" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="324.3510189639258" y="1334.5786845175908" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">**launch context in "fhirContext" array</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="324.3510189639258" y="1360.9663206175908" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">includes local reference to the Task</text></g><path fill="none" stroke="none"/><g><g/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 177.16786376113282 1404.5059201825911 L 884.2660773208203 1404.5059201825911 L 884.2660773208203 1496.862646532591 L 177.16786376113282 1496.862646532591 L 177.16786376113282 1404.5059201825911 Z" stroke-miterlimit="10" stroke-width="3.7696623000000002" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 177.16786376113282 1404.5059201825911 L 177.16786376113282 1436.171083502591 L 244.93781064375003 1436.171083502591 L 260.77039230375004 1420.338501842591 L 260.77039230375004 1404.5059201825911 L 177.16786376113282 1404.5059201825911" stroke-miterlimit="10" stroke-width="3.7696623000000002" stroke-dasharray=""/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="203.55549986113283" y="1425.616029062591" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">ref</text></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="386.49012575337883" y="1471.228942892591" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">9 Request Resources (see previous section)</text></g><g><rect fill="white" stroke="none" x="269.6367269129883" y="1568.109264002591" width="128.51034600578126" height="34.30392693"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="273.5948723279883" y="1591.858136492591" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Authorization error</text><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="253.21549305552736" y="1591.858136492591" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">10 </text></g></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 446.4876843081641 1602.413190932591 L 222.64255664013282 1602.413190932591" stroke-miterlimit="10" stroke-width="2.1989696750000003" stroke-dasharray="10.555054440000001"/><g transform="translate(200.91673625113282,1602.413190932591) translate(-200.91673625113282,-1602.413190932591)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 222.90643300113283 1591.4183425575911 L 200.91673625113282 1602.413190932591 L 222.90643300113283 1613.408039307591 Z"/></g></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 108.56000990113282 376.707494087591 L 538.8444106581641 376.707494087591 L 538.8444106581641 482.25803848759097 L 108.56000990113282 482.25803848759097 L 108.56000990113282 376.707494087591 Z" stroke-miterlimit="10" stroke-width="3.7696623000000002" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 108.56000990113282 376.707494087591 L 108.56000990113282 408.37265740759096 L 179.57174755523437 408.37265740759096 L 195.40432921523436 392.540075747591 L 195.40432921523436 376.707494087591 L 108.56000990113282 376.707494087591" stroke-miterlimit="10" stroke-width="3.7696623000000002" stroke-dasharray=""/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="134.94764600113282" y="397.817602967591" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">opt</text><g><rect fill="white" stroke="none" x="217.83381990023437" y="378.81850497559094" width="198.85499627433595" height="27.443141544000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="221.79196531523436" y="397.817602967591" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Precondition: Client Registration]</text></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 108.56000990113282 502.048765562591 L 834.1295687308203 502.048765562591 L 834.1295687308203 768.563890172591 L 108.56000990113282 768.563890172591 L 108.56000990113282 502.048765562591 Z" stroke-miterlimit="10" stroke-width="3.7696623000000002" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 108.56000990113282 502.048765562591 L 108.56000990113282 533.713928882591 L 231.06800915191405 533.713928882591 L 246.90059081191404 517.881347222591 L 246.90059081191404 502.048765562591 L 108.56000990113282 502.048765562591" stroke-miterlimit="10" stroke-width="3.7696623000000002" stroke-dasharray=""/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="134.94764600113282" y="523.1588744425909" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">EHR Launch</text></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 108.56000990113282 1083.8961415675913 L 952.8739311808204 1083.8961415675913 L 952.8739311808204 1622.203918007591 L 108.56000990113282 1622.203918007591 L 108.56000990113282 1083.8961415675913 Z" stroke-miterlimit="10" stroke-width="3.7696623000000002" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 108.56000990113282 1083.8961415675913 L 108.56000990113282 1115.5613048875912 L 175.02407909820312 1115.5613048875912 L 190.8566607582031 1099.7287232275912 L 190.8566607582031 1083.8961415675913 L 108.56000990113282 1083.8961415675913" stroke-miterlimit="10" stroke-width="3.7696623000000002" stroke-dasharray=""/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="134.94764600113282" y="1105.0062504475911" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">alt</text><g><rect fill="white" stroke="none" x="213.28615144320312" y="1086.007152455591" width="132.41569573722657" height="27.443141544000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="217.2442968582031" y="1105.0062504475911" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[DTR Granted Access]</text><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 108.56000990113282 1516.6533736075912 L 952.8739311808204 1516.6533736075912" stroke-miterlimit="10" stroke-width="3.7696623000000002" stroke-dasharray="6.596909025"/></g><g/><g><rect fill="white" stroke="none" x="213.28615144320312" y="1518.764384495591" width="126.55070550285156" height="27.443141544000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="217.2442968582031" y="1537.763482487591" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[DTR Denied Access]</text></g><g/></g><g/><g/><g/><g/></g></svg>