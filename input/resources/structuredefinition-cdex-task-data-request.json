{
    "resourceType": "StructureDefinition",
    "id": "cdex-task-data-request",
    "url": "http://hl7.org/fhir/us/davinci-cdex/StructureDefinition/cdex-task-data-request",
    "version": "0.2.0",
    "name": "CDexTaskDataRequest",
    "title": "CDex Task Data Request Profile",
    "status": "active",
    "description": "This Task profile is based upon the [Da Vinci Hrex Task Data Request](http://hl7.org/fhir/us/davinci-hrex/StructureDefinition/hrex-task-data-request). It adds the following additional constraints for CDEX:\n- A Task.identifier element representing the payers tracking identifier (referred to as the \u201cre-association tracking control numbers\u201d)\n- A meta.tag element representing work-queue hints.\n- A Task.requester.reference.identifier element representing the Payer ID\n- A Task.owner.reference.identifier element representing the Provider ID\n- A Task.for element:\n  - the identifier element representing Patient MemberId\n  - the reference element linking to a contained Patient Resource defined by the HRex Patient Demographics Profile and representing the patient data elements used to verify patient identity for compliance regulations (such as HIPAA).\n- Extensions on the `Task.input` element \"code\" and \"query\" slices representing line item numbers in the Claim or Prior Authorization.\n- A Task.input element slices representing:\n    - the types of documents to be returned using the extensible LOINC\u00ae Document types value set.\n    - the purpose of use for the requested data using an extensible *CDex Purpose of Use Value Set*.\n    - the Payer Endpoint URL for requesting the provider submit attachment using the $submit-attachment operation.\n    - a flag to indicate whether the requested data requires a signature.\n    - a flag to indicate whether the requested data can be sent in multiple submissions.\n- A Task.reasonReference linking to a contained Claim Resource defined in the CDex Claim Profile representing a claim or pre-authorization.\n- A Task.Restriction.period element representing the due date for the attachments.",
    "fhirVersion": "4.0.1",
    "kind": "resource",
    "abstract": false,
    "type": "Task",
    "baseDefinition": "http://hl7.org/fhir/us/davinci-hrex/StructureDefinition/hrex-task-data-request",
    "derivation": "constraint",
    "differential": {
        "element": [
            {
                "id": "Task.meta",
                "path": "Task.meta"
            },
            {
                "id": "Task.meta.tag",
                "path": "Task.meta.tag",
                "slicing": {
                    "discriminator": [
                        {
                            "type": "pattern",
                            "path": "$this"
                        }
                    ],
                    "rules": "open"
                }
            },
            {
                "id": "Task.meta.tag.system",
                "path": "Task.meta.tag.system"
            },
            {
                "id": "Task.meta.tag.code",
                "path": "Task.meta.tag.code",
                "min": 1
            },
            {
                "id": "Task.meta.tag:work-queue",
                "path": "Task.meta.tag",
                "sliceName": "work-queue",
                "short": "Work Queue Tag",
                "definition": "Payer provided work queue tags that provider may use in their workflow to process request.",
                "binding": {
                    "strength": "required",
                    "valueSet": "http://hl7.org/fhir/us/davinci-cdex/ValueSet/cdex-work-queue"
                }
            },
            {
                "id": "Task.contained",
                "path": "Task.contained",
                "slicing": {
                    "discriminator": [
                        {
                            "type": "type",
                            "path": "$this"
                        }
                    ],
                    "rules": "open"
                }
            },
            {
                "id": "Task.contained:claim",
                "path": "Task.contained",
                "sliceName": "claim",
                "definition": "The contained claim profile representing the required claim or pre-authorization data needed for attachments requests",
                "short": "Contained Claim resource",
                "max": "1",
                "type": [
                    {
                        "code": "Claim",
                        "profile": [
                            "http://hl7.org/fhir/us/davinci-cdex/StructureDefinition/cdex-claim"
                        ]
                    }
                ],
                "mustSupport": true
            },
            {
                "id": "Task.contained:patient",
                "path": "Task.contained",
                "sliceName": "patient",
                "definition": "The contained patient profile representing the patient data elements used to verify patient identity for compliance regulations (such as HIPAA).",
                "short": "Contained Patient resource",
                "max": "1",
                "type": [
                    {
                        "code": "Patient",
                        "profile": [
                            "http://hl7.org/fhir/us/davinci-hrex/StructureDefinition/hrex-patient-demographics"
                        ]
                    }
                ],
                "mustSupport": true
            },
            {
                "id": "Task.identifier",
                "path": "Task.identifier",
                "slicing": {
                    "discriminator": [
                        {
                            "type": "pattern",
                            "path": "$this"
                        }
                    ],
                    "rules": "open"
                },
                "mustSupport": true
            },
            {
                "id": "Task.identifier.value",
                "path": "Task.identifier.value",
                "min": 1,
                "max": "1",
                "mustSupport": true
            },
            {
                "id": "Task.identifier:tracking-id",
                "path": "Task.identifier",
                "sliceName": "tracking-id",
                "short": "Re-association tracking control number",
                "definition": "A unique claim/prior authorization identifier (referred to as the \u201cre-association tracking control numbers\u201d)",
                "max": "1",
                "patternIdentifier": {
                    "type": {
                        "coding": [
                            {
                                "system": "http://hl7.org/fhir/us/davinci-cdex/CodeSystem/cdex-temp",
                                "code": "tracking-id"
                            }
                        ]
                    }
                },
                "mustSupport": true
            },
            {
                "id": "Task.for",
                "path": "Task.for"
            },
            {
                "id": "Task.for.reference",
                "path": "Task.for.reference",
                "short": "Contained Patient",
                "definition": "Reference to contained Patient representing patient data elements are used to verify patient identity for compliance regulations (such as HIPAA).",
                "fixedString": "#patient",
                "mustSupport": true
            },
            {
                "id": "Task.for.identifier",
                "path": "Task.for.identifier",
                "short": "Patient Member ID",
                "definition": "business identifier representing the Patient Member ID",
                "mustSupport": true
            },
            {
                "id": "Task.requester",
                "path": "Task.requester"
            },
            {
                "id": "Task.requester.identifier",
                "path": "Task.requester.identifier",
                "short": "Payer ID",
                "definition": "business identifier representing the Payer ID",
                "mustSupport": true
            },
            {
                "id": "Task.owner",
                "path": "Task.owner"
            },
            {
                "id": "Task.owner.identifier",
                "path": "Task.owner.identifier",
                "short": "Porvider ID",
                "definition": "business identifier representing the Provider ID",
                "mustSupport": true
            },
            {
                "id": "Task.restriction",
                "path": "Task.restriction",
                "mustSupport": true
            },
            {
                "id": "Task.restriction.period",
                "path": "Task.restriction.period",
                "short": "Attachments due date",
                "definition": "due date for the attachments",
                "mustSupport": true
            },
            {
                "id": "Task.reasonReference",
                "path": "Task.reasonReference"
            },
            {
                "id": "Task.reasonReference.reference",
                "path": "Task.reasonReference.reference",
                "short": "Contained Claim",
                "definition": "Reference to contained Claim representing claim or pre-authorization for required data.",
                "fixedString": "#claim",
                "mustSupport": true
            },
            {
                "id": "Task.input:query",
                "path": "Task.input",
                "sliceName": "query"
            },
            {
                "id": "Task.input:query.extension:item-ids",
                "path": "Task.input.extension",
                "sliceName": "item-ids",
                "short": "Line item numbers",
                "definition": "The line item numbers in the Claim or Prior Authorization",
                "max": "*",
                "type": [
                    {
                        "code": "Extension",
                        "profile": [
                            "http://hl7.org/fhir/us/davinci-pas/StructureDefinition/extension-serviceLineNumber"
                        ]
                    }
                ],
                "mustSupport": true
            },
            {
                "id": "Task.input:code",
                "path": "Task.input",
                "sliceName": "code"
            },
            {
                "id": "Task.input:code.extension:item-ids",
                "path": "Task.input.extension",
                "sliceName": "item-ids",
                "short": "Line item numbers",
                "definition": "The line item numbers in the Claim or Prior Authorization the request applies to.",
                "max": "*",
                "type": [
                    {
                        "code": "Extension",
                        "profile": [
                            "http://hl7.org/fhir/us/davinci-pas/StructureDefinition/extension-serviceLineNumber"
                        ]
                    }
                ],
                "mustSupport": true
            },
            {
                "id": "Task.input:code.valueCodeableConcept",
                "path": "Task.input.valueCodeableConcept",
                "min": 1,
                "max": "1",
                "binding": {
                    "strength": "extensible",
                    "valueSet": "http://hl7.org/fhir/us/core/ValueSet/us-core-documentreference-type"
                }
            },
            {
                "id": "Task.input:signature",
                "path": "Task.input",
                "sliceName": "signature",
                "short": "Signature flag",
                "definition": "Flag to indicate whether the requested data requires a signature.",
                "max": "1",
                "mustSupport": true
            },
            {
                "id": "Task.input:signature.type",
                "path": "Task.input.type",
                "patternCodeableConcept": {
                    "coding": [
                        {
                            "system": "http://hl7.org/fhir/us/davinci-cdex/CodeSystem/cdex-temp",
                            "code": "signature-flag"
                        }
                    ]
                },
                "mustSupport": true
            },
            {
                "id": "Task.input:signature.value[x]",
                "path": "Task.input.value[x]",
                "short": "Signature flag value",
                "type": [
                    {
                        "code": "boolean"
                    }
                ],
                "mustSupport": true
            },
            {
                "id": "Task.input:POU",
                "path": "Task.input",
                "sliceName": "POU",
                "short": "Purpose of use code",
                "definition": "Represent the purpose of use for the requested data.",
                "max": "1",
                "mustSupport": true
            },
            {
                "id": "Task.input:POU.type",
                "path": "Task.input.type",
                "patternCodeableConcept": {
                    "coding": [
                        {
                            "system": "http://hl7.org/fhir/us/davinci-cdex/CodeSystem/cdex-temp",
                            "code": "purpose-of-use"
                        }
                    ]
                },
                "mustSupport": true
            },
            {
                "id": "Task.input:POU.value[x]",
                "path": "Task.input.value[x]",
                "short": "Purpose of use value",
                "type": [
                    {
                        "code": "CodeableConcept"
                    }
                ],
                "binding": {
                    "strength": "extensible",
                    "valueSet": "http://hl7.org/fhir/us/davinci-cdex/ValueSet/cdex-POU"
                },
                "mustSupport": true
            },
            {
                "id": "Task.input:payer-url",
                "path": "Task.input",
                "sliceName": "payer-url",
                "short": "Payer Url",
                "definition": "The Payer Endpoint URL for submitting attachment using the $submit-attachment operation.",
                "max": "1",
                "mustSupport": true
            },
            {
                "id": "Task.input:payer-url.type",
                "path": "Task.input.type",
                "patternCodeableConcept": {
                    "coding": [
                        {
                            "system": "http://hl7.org/fhir/us/davinci-cdex/CodeSystem/cdex-temp",
                            "code": "payer-url"
                        }
                    ]
                },
                "mustSupport": true
            },
            {
                "id": "Task.input:payer-url.value[x]",
                "path": "Task.input.value[x]",
                "short": "Payer url value",
                "type": [
                    {
                        "code": "url"
                    }
                ],
                "mustSupport": true
            },
            {
                "id": "Task.input:multiple-submits",
                "path": "Task.input",
                "sliceName": "multiple-submits",
                "short": "Multiple submits flag",
                "definition": "Flag to indicate whether the requested data can be submitted in multiple submissions. The default meaning when this input is omitted is multiple-submits = \"false\" -  all the requested data should be submitted in a single transaction.",
                "max": "1"
            },
            {
                "id": "Task.input:multiple-submits.type",
                "path": "Task.input.type",
                "patternCodeableConcept": {
                    "coding": [
                        {
                            "system": "http://hl7.org/fhir/us/davinci-cdex/CodeSystem/cdex-temp",
                            "code": "multiple-submits-flag"
                        }
                    ]
                }
            },
            {
                "id": "Task.input:multiple-submits.value[x]",
                "path": "Task.input.value[x]",
                "short": "Multiple submits flag value",
                "type": [
                    {
                        "code": "boolean"
                    }
                ]
            }
        ]
    }
}