resourceType: StructureDefinition
id: cdex-claim
url: 'http://hl7.org/fhir/us/davinci-cdex/StructureDefinition/cdex-claim'
name: CDexClaimProfile
title: CDex Claim Profile
status: active
description: |-
  This Claim Profile is defined to be [contained](http://hl7.org/fhir/R4/references.html) within the CDex Task Attachment Request Profile or CDex Task Data Request Profile.  It is referenced when a reason for a clinical data request is communicated and the reason is a claim or prior-authorization (for example, an attachment request or a claims audit).  It represents a claim or prior-authorization and defines the following *mandatory* (min=1) information:

  - A default resource ID of "claim"
  - A claim/prior-auth ID (business identifier)
  - A use ("claim" or "preauthorization")
  - A date of service
  - A patient member ID or patient account no

  In addition, these *mandatory* (min=1) elements are inheritied from the FHIR Claim resource:
    - Resource status
    - Claim category
    - Resource creation date
    - Provdier responsible for the claim
    - Claim priority

fhirVersion: 4.0.1
kind: resource
abstract: false
type: Claim
baseDefinition: 'http://hl7.org/fhir/StructureDefinition/Claim'
derivation: constraint
differential:
  element:


    - id: Claim.id
      path: Claim.id
      short: Resource ID Default Value
      min: 1
      max: '1'
      fixedString: claim  # referenced by Task.reasonReference.reference
      mustSupport: true      

    - id: Claim.identifier
      path: Claim.identifier
      short: Claim/Prior-Auth ID
      min: 1      
      slicing:
        discriminator:
          - type: pattern
            path: $this
        rules: open
      mustSupport: true

    - id: Claim.identifier.value
      path: Claim.identifier.value
      min: 1
      max: '1'
      mustSupport: true

    - id: 'Claim.identifier:claim-id'
      path: Claim.identifier
      sliceName: claim-id
      min: 1
      max: '1'
      mustSupport: true

    - id: Claim.status
      path: Claim.status
      fixedCode: active
      mustSupport: true 

    - id: Claim.type
      path: Claim.type
      mustSupport: true     

    - id: Claim.use
      path: Claim.use
      short: claim | preauthorization
      definition: 'A code to indicate whether the nature of the request is: to request adjudication of products and services previously rendered; or requesting authorization and adjudication for provision in the future'
      binding:
        strength: required
        valueSet: 'http://hl7.org/fhir/us/davinci-cdex/ValueSet/cdex-claim-use'
      mustSupport: true
     

    - id: Claim.patient
      path: Claim.patient
      mustSupport: true

    - id: Claim.patient.identifier
      path: Claim.patient.identifier
      short: Patient member ID or patient account no
      definition: business identifier representing the Patient ID
      mustSupport: true

    - id: Claim.created
      path: Claim.created
      mustSupport: true

    - id: Claim.provider
      path: Claim.provider
      mustSupport: true 

    - id: Claim.provider.identifier
      path: Claim.provider.identifier
      short: provider ID
      definition: business identifier representing the provider ID
      mustSupport: true 

    - id: Claim.priority
      path: Claim.priority
      comment: '-'
      mustSupport: true 


    - id: 'Claim.supportingInfo'
      path: Claim.supportingInfo
      min: 1  #TODO -  see if this is required
      mustSupport: true 

    - id: 'Claim.supportingInfo.timing[x]'
      path: Claim.supportingInfo.timing[x]
      min: 1  #TODO -  see if this is required
      mustSupport: true   


